<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mapa de Colores</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            text-align: center;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 {
            color: #333;
            font-size: 1.5rem;
            margin-bottom: 20px;
        }

        .controls {
            margin-bottom: 20px;
            background: white;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            width: 100%;
            max-width: 400px;
        }

        .controls p {
            margin: 0 0 10px 0;
            font-weight: bold;
            color: #555;
        }

        .button-group {
            display: flex;
            justify-content: center;
            gap: 10px;
        }

        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 15px 20px;
            font-size: 1.2rem;
            border-radius: 8px;
            cursor: pointer;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.1s, background-color 0.2s;
        }

        button:active {
            transform: scale(0.95);
            background-color: #0056b3;
        }

        #svg-container {
            width: 100%;
            max-width: 600px; /* Limita el ancho en pantallas grandes */
            background: white;
            padding: 10px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        svg {
            width: 100%;
            height: auto;
            display: block;
        }
        
        /* Transición suave de color */
        path {
            transition: fill 0.5s ease;
        }
    </style>
</head>
<body>

    <h1>Selector de Zonas</h1>

    <div class="controls">
        <p>¿Cuántos zonas quieres?</p>
        <div class="button-group">
            <button onclick="generarZonas(2)">2</button>
            <button onclick="generarZonas(3)">3</button>
            <button onclick="generarZonas(4)">4</button>
            <button onclick="generarZonas(5)">5</button>
        </div>
    </div>

    <div id="svg-container">
        <svg
           viewBox="0 0 242.14047 150.13816"
           version="1.1"
           id="svg1"
           xmlns="http://www.w3.org/2000/svg">
          <g id="layer5" transform="translate(-31.511104,-22.638141)">
            <path id="zone_green" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 170.14107,204.7897 0.42773,0.38495 0.7699,0.29941 0.42773,0.51327 0.0855,0.72714 0.85546,-0.34218 h 1.02654 l 0.941,-0.51327 0.98377,-0.941 0.81268,0.0428 0.12832,-0.29941 -0.21386,-0.25664 0.0428,-0.51327 1.06932,-0.21386 h 0.68436 l 0.76991,0.38495 1.11209,0.38496 0.64159,0.98377 0.72713,0.25663 0.29941,0.89823 0.89823,0.42773 0.42772,0.68436 0.51328,0.17109 1.36872,0.34218 0.34218,0.81268 0.81268,0.98377 v 2.52359 l -0.38495,1.24041 0.0856,0.72713 0.34218,1.28318 0.4705,1.06932 0.21386,-0.12832 0.38495,-1.19763 -0.68436,-0.25664 -0.0856,-0.17109 0.42773,-0.17109 1.19764,0.25664 0.0428,0.42772 -0.85546,1.45427 -0.55604,0.64159 0.941,0.98378 0.68436,0.81268 0.76991,1.41149 0.76991,1.02655 0.55604,1.32595 0.4705,0.0856 0.42773,-0.55605 0.4705,0.29941 0.68436,1.06932 0.17109,0.941 0.81268,1.15486 0.21386,-0.34218 1.02655,0.0855 0.941,0.59882 0.89822,1.36872 0.21387,0.89823 0.0855,0.76991 0.29941,0.25663 0.34218,0.12832 0.64159,-0.25663 0.38496,-0.42773 1.02654,-0.0428 0.81268,-0.38495 0.72714,-0.85545 -0.12832,-0.51327 -0.0856,-0.64159 0.17109,-0.51328 -0.0855,-0.51327 0.64159,-0.34218 0.0855,-0.89823 -0.17109,-0.47049 -0.12831,-3.16518 -0.34218,-2.01032 -1.19763,-2.1814 -0.941,-1.53982 -0.68436,-1.4115 -0.76992,-0.7699 -0.76991,-1.96755 0.21387,-0.34218 0.2994,-0.34218 -0.42772,-0.76991 -1.06932,-0.98377 -1.28317,-1.45427 -0.98377,-1.66813 -1.4115,-2.48082 -0.98681,-2.57764 -0.59946,-1.93638 -0.005,-0.23532 -0.20516,-1.66656 0.59882,-2.6519 0.38495,-1.11209 -0.12832,-0.68436 0.88223,-1.65214 -0.13502,-0.35763 0.15102,-0.25719 0.55604,-0.34218 1.32596,-1.45427 -0.25664,-0.85545 0.76991,-0.0428 0.941,-0.89822 0.42772,-0.21386 0.59882,-0.89823 0.72713,-0.72714 0.55604,-0.94099 0.6416,-0.17109 0.2994,-0.72714 0.42773,-0.21386 0.12831,-1.66814 0.68437,-1.62536 1.43435,-1.44419 0.0742,-0.21247 1.44281,-0.35366 1.24041,-0.12831 0.12832,-0.64159 0.51327,-1.71091 0.89823,-1.24041 1.71091,-1.41149 1.36873,-0.64159 0.72713,-0.17109 0.2994,0.12831 h 0.34219 l 0.81268,-1.28318 0.51327,-0.941 -0.34218,0.12832 -0.59881,0.59882 -0.1711,-0.42773 h -1.11209 l 0.51328,-1.66813 -0.21387,-0.34218 h -0.51327 v -0.25664 l -0.0855,-0.34218 0.42772,0.34218 0.38496,0.0428 0.64159,0.0855 0.98377,-0.42773 0.34218,-0.7699 0.17109,-0.55605 0.68436,-0.34218 0.0855,-1.11209 -0.21386,-0.17109 0.64158,-0.0428 -0.17109,-0.59882 -0.64158,-0.64159 -0.70504,-1.28219 -5.87025,-0.10012 -5.80932,5.58718 -6.86372,-4.70824 -21.83603,15.82359 -1.84228,26.38977 z"
               transform="translate(37.48895,-59.47319)" />
            
            <path id="zone_red" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 88.701919,208.3825 1.796452,0.29941 0.68437,0.55604 v 0.29942 l 0.68436,0.81268 1.58259,1.41149 0.0428,0.38496 0.4705,0.51327 0.21386,1.11209 1.4115,3.25072 -0.0428,0.51327 1.11209,0.68436 0.941,1.75368 0.89822,1.15487 0.85546,0.34218 0.42772,0.59881 -0.34218,1.15487 0.17109,0.25663 0.34219,0.17109 -0.0855,0.89823 -0.17109,0.17109 0.17109,0.59882 0.855449,0.51327 0.34218,1.71091 0.55605,1.02654 2.01031,0.89823 1.36873,0.29941 1.11209,0.81268 0.85545,0.17109 0.34218,-0.12832 1.45427,0.29941 1.49705,1.02654 0.81268,-0.51327 0.25663,-0.38496 -0.47049,-0.72713 -0.25664,-1.62536 -0.4705,-1.83923 -0.21386,-0.64159 0.21386,-1.19763 0.29941,-1.02654 0.34218,-1.19764 0.38495,-1.45427 -0.59881,-0.51327 0.25663,-0.51327 1.06932,-0.0855 1.02654,-1.45427 0.89823,-0.17109 1.53982,-0.941 0.47049,-0.38495 1.66814,-0.89823 1.49704,-0.64159 1.4115,-0.85545 0.72712,-0.55605 1.49706,-1.4115 0.34218,-0.21386 0.55604,-0.38495 0.68437,-0.51327 0.25663,-0.51328 2.60913,-1.19763 1.49884,-0.41941 0.16973,-0.0338 1.23997,-0.40221 2.13864,-0.0855 2.73744,0.941 1.71092,0.29941 0.98377,-0.38496 0.85544,0.29941 0.85546,0.25664 0.21386,-0.55605 -0.85545,-0.2994 -0.68436,0.12831 -0.72713,-0.42772 c 0,0 0.0428,-0.34219 0.21386,-0.38496 0.17109,-0.0428 0.81268,-0.25663 0.81268,-0.25663 l 0.4705,0.38495 0.4705,-0.25664 0.85544,0.17109 0.38497,0.6416 0.0855,0.59881 1.19765,0.0855 0.47049,0.4705 -0.21387,0.42772 -0.34218,0.21387 0.42773,0.42772 2.22418,0.941 0.94099,-0.34218 0.25664,-0.64159 0.68436,-0.17109 0.4705,-0.38495 0.34218,0.25663 0.21387,0.76991 -0.59882,0.21386 0.17109,0.17109 0.89823,-0.34218 0.59882,-0.89822 0.21386,-0.12832 -0.55605,-0.0855 0.21387,-0.42772 -0.0428,-0.38496 0.55605,-0.12831 0.29941,-0.34219 0.17109,0.21387 c 0,0 -0.0428,0.81268 0.17109,0.81268 0.21386,0 1.11209,0.17109 1.11209,0.17109 l 1.06931,0.51327 0.25664,0.38496 h 0.76991 l 0.29941,0.25663 0.59881,-0.81268 v -0.38496 H 153.032 l -0.89822,-0.72713 -1.53982,-0.21386 -0.85545,-0.59882 0.29941,-0.72714 0.59881,0.0856 0.0428,-0.17109 -0.4705,-0.25664 v -0.12832 h 0.85545 l 0.4705,-0.81267 -0.34218,-0.51328 -0.0856,-0.72713 -0.38495,0.0428 -0.51327,0.55604 -0.17109,0.68437 -0.81268,-0.17109 -0.25664,-0.4705 0.4705,-0.51328 0.53466,-0.47049 0.20017,-0.13634 0.29171,-0.20585 0.68437,-1.11209 0.47049,0.21387 1.79646,-0.51327 0.55604,0.0855 0.38495,0.21386 h 1.36873 l 0.0673,-0.33235 0.27491,-0.0526 h 0.72714 l 0.17109,0.0428 0.34218,-0.72713 0.38495,-1.15486 0.59882,0.17109 0.81268,1.58259 v 0.25663 l -0.72713,0.51327 0.72713,0.0855 1.46634,-0.68075 0.17947,0.0302 0.92055,-0.16218 1.58259,-0.55605 1.58259,-0.12831 1.15486,-0.17109 2.01032,0.47049 1.17272,0.55567 1.84753,-26.37472 -38.83756,-13.59567 -7.40422,-14.68366 -32.085967,5.88022 -5.710888,52.69391 z"
               transform="translate(37.48895,-59.47319)" />

            <path id="zone_blue" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 110.15808,128.42867 -0.21029,-0.0166 -0.68295,-0.45511 -1.00643,0.35758 -0.79078,0.29258 -0.50322,0.65016 -0.21566,0.74768 -0.9705,1.23531 -0.53916,0.48762 -0.57511,-0.19504 -0.39538,-0.22756 -0.43134,-0.13003 -0.86266,-0.45512 v -0.13003 l -0.39538,-0.3901 -1.15022,-0.4226 -1.653436,-1.56039 -0.50322,-0.94274 v -1.62541 l -0.718886,-1.30032 -0.107832,-0.55264 -0.359442,-0.19504 -0.251611,-0.42261 -1.114271,-0.4226 -0.287553,-0.32509 -1.581549,-1.59289 -0.287553,-0.65016 -1.042384,-0.45512 -0.3235,-0.87773 -0.575113,-0.58514 -0.431327,-0.0975 -0.213824,2.3e-4 -2.769544,-0.32531 -3.702258,-0.52013 -0.287554,2.0155 -3.437588,-0.39999 -0.356811,-0.16136 -5.587049,-0.54392 -2.731764,-0.48762 -3.738202,-2.01551 -3.270926,-1.72293 -2.695819,-1.52788 -4.205477,-2.14554 -0.107832,-0.19505 0.07189,-0.29257 0.5841,-0.43401 -0.223605,-0.15019 -3.092259,-0.196 -4.385196,-0.55263 -2.228544,-0.29257 -0.107833,-0.35759 v -1.88548 l -0.07188,-0.65016 -0.575108,-0.84521 -0.179721,-0.45511 -0.862663,-0.84521 -0.646997,-0.94273 -0.611051,-0.0325 -0.718886,-0.16255 -0.07189,-0.19504 0.323498,-0.13003 -0.143777,-0.65017 -0.323499,-0.4226 -1.078327,-0.16254 -0.862662,-0.42261 -0.25161,-0.455117 -0.575108,-0.975244 -0.646996,-0.617654 h -0.646997 l -0.862662,-0.422602 -1.006439,-0.357589 -0.93455,-0.09753 -0.539164,-0.552642 0.107833,-0.390096 0.395386,-1.430351 0.179722,-0.390104 V 93.888473 L 38.742234,93.693429 38.634402,93.108282 38.310903,92.588154 37.556074,91.417858 37.26852,90.800205 36.945021,89.857467 36.585579,88.784705 35.866694,87.90698 35.758861,87.32184 35.938583,86.541641 H 36.1902 l 0.467275,-0.325084 0.251609,-0.715172 -0.215665,-0.552642 -0.611052,-0.09752 -0.431331,-0.520128 -0.467275,-0.747686 -0.03594,-1.657917 0.143777,-0.390096 0.143776,-0.455116 0.107833,-0.487621 -1.258048,-1.267814 v -0.422602 l 0.07189,-0.09753 0.07188,-0.650167 -0.287554,-0.812698 -0.503219,-0.975244 -0.611053,-0.910231 -0.395386,-0.780192 0.215665,-0.747685 0.143778,-1.170296 0.395386,-0.617654 0.07188,-1.300327 -0.221818,-0.630824 51.704253,-0.450542 7.552608,22.353825 22.463301,-3.728134 z"
               transform="matrix(1.1899725,0,0,1.3157534,-6.6115139,-20.220458)" />

            <path id="zone_orange" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 209.77479,92.707916 -4.88189,4.246378 -5.76799,-3.570056 -30.30966,-18.760032 0.4584,-0.273087 0.22782,-0.159733 0.72458,-0.62039 0.0719,-0.552634 0.53916,-1.040263 0.21566,-1.202794 0.17973,-0.942738 -0.3235,-0.975243 -0.647,-1.300327 -0.79077,-1.202802 0.0718,-0.552634 0.0719,-0.162538 0.17972,-0.487629 -0.10784,-0.22755 -0.14378,-0.942738 0.35945,-0.812705 0.25161,-1.235308 -0.17973,-0.487622 v -0.227557 l 0.50323,-0.09753 0.14377,-0.520128 -0.14377,-0.162538 0.036,-0.195052 0.39539,-0.390096 0.61106,-0.227558 0.21566,-0.845211 0.43133,-0.162538 0.17972,0.162538 -0.14377,0.487622 -0.28756,0.487621 v 0.845212 l 0.14378,0.03253 0.79077,-0.42261 -0.0719,-1.105275 -0.0719,-0.325076 0.0719,-0.42261 0.32351,-0.35759 0.5751,-0.06498 0.57511,-0.162538 -0.10784,-0.162538 -0.46727,-0.09753 -0.21567,-0.06498 -0.0719,-0.71518 0.64699,-0.455116 0.647,-0.357589 0.68294,0.455115 0.21567,0.09753 0.14378,-0.130032 h 0.61105 l 1.2221,0.682666 1.00644,0.292578 h 0.57511 l 0.28755,0.520128 0.53916,0.455115 -0.036,0.325084 -0.35945,-0.06498 -0.17972,0.162538 0.17972,0.422602 0.28756,0.162546 0.35944,0.455108 0.0719,2.015507 -0.53917,0.325083 -0.14378,0.520128 -0.17972,0.682666 -0.75483,0.260072 c 0,0 -0.0719,0.877717 -0.10783,1.007749 -0.0359,0.130032 0.53916,0.422602 0.53916,0.422602 l 0.3235,0.130032 0.25161,-0.130032 0.61106,-0.747685 0.43132,-1.00775 0.86266,-0.35759 0.35945,-0.227558 0.5751,0.35759 0.53917,0.65016 0.50322,1.820455 0.71888,1.657917 0.0719,1.917981 -0.43133,0.195044 -0.17972,-0.03253 -0.036,-0.130031 -0.23364,-0.1219 -0.34147,0.609521 -0.0494,0.71518 -0.24249,0.06893 -0.35509,0.321131 0.0494,1.015882 -0.44482,0.349465 -0.46727,0.747686 -0.036,0.29257 -0.0307,0.118153 0.2561,0.06536 0.52942,0.271631 0.57511,0.292578 1.15022,-0.130032 0.75482,0.617654 0.46728,-0.03253 1.2221,-0.520136 0.647,-0.09752 0.71888,-0.162546 0.89861,-0.780191 0.75483,-0.747686 0.86266,-0.455116 1.35487,-0.815084 0.22688,0.02227 0.93435,-0.605052 0.28756,-0.09753 1.22011,-1.132157 0.22362,-0.104405 0.31753,-0.226303 0.28756,-0.227558 0.21566,-0.325084 0.39538,-0.22755 0.43133,-0.35759 0.10784,-0.325084 0.46728,-0.552634 0.25161,-0.195051 -0.036,-0.195052 -0.28755,-0.617654 -0.39539,-0.03253 -0.43133,-1.235307 0.647,-0.35759 0.97049,-0.29257 0.89861,-0.260072 0.71888,-0.09752 1.40183,-0.03253 0.43133,0.260064 0.35944,0.03253 0.46728,-0.260064 0.57511,-0.227558 1.15021,-0.09753 0.46728,-0.357589 0.39539,-0.65016 0.35944,-0.390096 h 0.46727 l 0.43133,-0.227558 0.036,-0.455116 -0.3235,-0.422602 -0.0719,-0.292577 0.25161,-0.422602 V 59.43001 h -0.39539 l -0.39538,-0.162538 -0.17973,-0.227558 -0.036,-0.520128 1.29399,-1.105275 0.14378,-0.162538 0.32349,-0.585148 0.647,-0.910231 0.61106,-0.747686 0.46727,-0.487622 0.53698,-0.367105 0.68512,-0.250548 1.22211,-0.260064 0.71888,0.03253 1.00644,-0.292578 1.68207,-0.416484 0.13831,-0.07978 5.83597,-1.356835 0.20467,-0.06073 0.0108,-1.011891 0.3235,-0.390096 0.21567,0.195044 0.14377,0.09753 0.14378,-0.325084 0.19947,7.6e-4 0.19048,-0.09218 0.31586,-0.02379 0.33657,0.08243 v -0.520136 l 0.17972,-1.105275 0.57512,-0.94273 0.32349,-0.812706 -0.43133,-0.487621 v -1.2028 l 0.17972,-0.195049 0.17973,-0.552638 -0.036,-0.292573 -0.036,-0.975243 0.39539,-0.975244 0.647,-1.787947 0.46727,-0.84521 h 0.28755 l 0.28756,0.03251 v 0.227556 l 0.28756,0.455114 0.61104,0.130032 0.17972,-0.16254 v -0.195049 l 0.89861,-0.585146 0.39539,-0.35759 0.32349,0.03251 1.32994,0.487622 0.43133,0.195049 2.01288,6.014001 h 1.32994 l 0.17973,0.390099 0.036,0.975242 0.647,0.455115 h 0.17972 l 0.036,-0.09753 -0.10783,-0.227557 0.61105,-0.03253 0.43133,0.422609 0.50322,0.747686 v 0.390096 l -0.46728,0.942737 -0.43133,0.130032 -0.75482,0.617654 -1.07833,1.105275 h -0.28755 c -0.14374,0 -0.21567,-0.422609 -0.21567,-0.422609 l -0.39539,0.03253 -0.21567,0.292577 -0.53916,0.29257 -0.21566,0.292578 0.35943,0.29257 -0.10782,0.130032 -0.10784,0.552642 -0.43133,-0.03253 v -0.325084 l -0.0719,-0.260064 -0.3235,0.06498 -0.39538,-0.650168 -0.46728,0.260064 0.28755,0.292578 0.0719,0.227558 -0.17971,0.260064 0.0718,0.617653 0.036,0.325077 -0.35943,0.520135 -0.647,0.09752 -0.0718,0.585148 -1.18616,0.617654 -0.28756,0.09753 -0.35944,-0.29257 -0.68294,0.715179 0.21566,0.65016 -0.3235,0.260064 -0.036,0.877718 -0.24976,1.258685 -0.0829,0.225065 -0.24241,0.661788 -0.19321,0.21647 0.12592,0.09895 0.64241,0.887378 -0.53917,1.040255 -0.0719,0.292578 0.43133,0.520128 0.25161,-0.162538 h 0.39538 l 0.50323,0.520128 0.86265,1.202801 0.79078,0.09753 0.50322,-0.195052 0.39539,-0.35759 -0.17973,-0.552633 -0.46727,-0.325084 -0.32349,0.162538 -0.21567,-0.260064 0.10783,-0.09753 0.46727,-0.03253 0.39539,0.162546 0.43133,0.487622 0.21567,0.585147 0.0719,0.487622 -0.93454,0.29257 -0.86267,0.390096 -0.86266,0.910231 -0.43133,0.29257 V 66.38642 l 0.53916,-0.292577 0.10783,-0.35759 -0.17972,-0.617654 -0.647,0.29257 -0.17971,0.292578 0.10783,0.455115 -0.45944,0.20117 -0.11543,0.07501 -0.64723,0.308956 -0.28756,-0.03253 -0.25161,0.35759 -0.53916,0.390096 -0.64699,0.195044 -0.19493,0.0456 -1.56635,0.702054 -1.15022,0.227557 -0.61104,0.29257 -0.17973,-0.130032 -0.43133,0.42261 -0.79078,0.65016 -1.10179,0.683943 -0.22553,-0.04621 0.17711,0.337518 -0.43133,0.35759 0.0719,0.260064 0.28756,-0.06498 0.3235,-0.260064 0.50321,-0.520135 0.25161,-0.130032 0.35945,0.130032 0.50322,0.03253 1.76127,-0.780191 0.647,-0.552642 0.28755,-0.29257 0.93455,0.325084 -0.75483,0.715172 -0.86266,0.585147 -1.58155,1.07277 -0.57511,0.195052 -1.29399,0.390096 -0.8986,0.227557 -0.2612,-0.10717 -0.12017,0.01725 -0.014,0.219958 -0.46727,0.390096 -0.25161,0.195052 0.10784,0.09753 0.61104,-0.06498 0.25161,-0.162538 0.35945,0.682666 0.036,1.885474 0.14377,0.227558 -0.2516,1.105276 -0.68295,1.300319 -0.61105,0.812706 -0.17971,0.975243 -0.46728,0.487622 h -0.17972 l -0.0719,-0.552641 0.17972,-0.195044 -0.036,-0.292578 -0.8986,-0.130032 -1.07833,-0.455108 -0.71889,-0.585148 -0.24286,-0.451285 -0.11348,-0.101356 -0.11093,0.422609 0.46727,0.71518 0.50322,0.195044 0.43133,0.71518 0.39539,0.942737 0.79077,0.487622 0.21567,-0.09753 0.50343,1.479008 0.0503,0.143591 -0.0504,0.978048 -0.44637,0.809156 0.11058,0.111852 -0.1713,0.647067 -0.64923,0.759937 -0.093,0.922156 0.10267,0.681784 -0.40644,1.001054 -0.48121,0.385308 -0.32691,-0.933214 0.0991,-1.095753 0.35287,-0.841168 0.17051,-0.622898 -0.032,-0.391525 -0.1551,-0.06217 -0.30202,-0.10784 -0.71962,-0.841145 -0.35945,0.162538 -0.86267,-0.09752 -0.5751,-0.682674 0.0719,-0.682673 0.35944,-0.260064 -0.35944,-0.35759 -0.25161,0.390096 -0.10783,0.03253 -0.0719,-0.715172 0.46727,-0.195052 -0.10784,-1.105276 -0.39538,-0.06506 -0.0719,-0.227558 0.28755,-0.747686 0.32349,-0.325084 -0.10783,-0.195044 -0.43133,0.325084 -0.43133,0.260064 c 0,0 -0.10783,0.29257 -0.10783,0.422602 0,0.130032 -0.3235,0.455115 -0.3235,0.455115 l 0.28755,0.260064 0.036,0.422602 -0.28755,1.07277 0.46728,1.105275 0.53916,0.42261 v 0.35759 l 0.3235,0.422602 -0.21567,0.422609 -0.46727,-0.06498 -0.68294,-0.195052 -0.95855,0.01239 -0.0449,0.132403 v 0 l 0.65561,0.194862 1.07982,0.189443 0.47855,0.419965 0.70937,0.08095 0.19302,0.241307 -0.0977,0.943125 0.30566,0.221713 -0.10649,0.388173 0.27335,0.158814 -0.0493,0.278434 -0.59898,-0.01908 0.0197,0.324864 0.50717,0.310248 0.0271,0.283921 0.39423,0.359018 0.10935,0.507573 -0.56765,0.277772 0.34957,0.300482 1.28983,-0.339 0.80213,1.208935 0.20464,0.185947 0.38021,0.944843 0.19829,0.325828 z"
               transform="matrix(1.1899725,0,0,1.3157534,-6.6115139,-20.220458)" />

            <path id="zone_yellow" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 156.58186,137.5083 -0.55604,0.51327 -0.29941,0.0855 -0.38495,-0.25664 -0.81256,-0.23535 -0.22743,0.0514 -0.0721,-0.24378 -0.21387,-0.68436 -0.34218,-0.98378 -0.42772,-0.4705 -0.38496,-0.68436 -0.0618,-1.45228 -0.0791,-0.28551 0.0981,-0.7858 -0.42773,-1.19763 -0.17109,-1.62536 -0.29941,-0.64159 0.25664,-0.81268 0.21386,-0.76991 0.38496,-0.68436 -0.17109,-0.89823 -0.17109,-0.941 0.12831,-0.4705 0.51328,-0.64159 0.0428,-0.72713 -0.21386,-0.34218 0.17109,-0.68437 0.12831,-0.85545 0.72714,-1.49704 0.76991,-1.79645 0.0428,-0.59882 -0.0855,-0.25664 -0.21387,0.12832 -1.11209,1.66813 -0.72713,1.06932 -0.51328,0.4705 -0.21386,0.59882 -0.38495,0.21386 -0.29941,0.51327 -0.38496,-0.0855 -0.0428,-0.4705 0.34218,-0.64159 0.55605,-1.24041 0.4705,-0.42772 0.29139,-0.60631 0.15011,-0.23607 0.84168,-1.8523 0.25663,-1.06931 0.51327,-1.15487 0.21387,-0.0428 0.29941,0.42773 h 0.17109 l 1.19763,-0.64159 0.38496,0.42773 0.12831,0.0428 0.34219,-0.29941 0.2994,-0.81268 0.64159,-0.21387 1.83923,-0.17109 0.51327,-0.68436 1.36873,-0.0428 1.53981,0.34218 h 0.4705 l 0.85545,-0.38495 0.59882,0.0428 0.55605,-0.17109 0.98377,0.12831 0.21386,0.0855 0.34218,-0.0855 -0.34218,-0.25663 -0.34218,-0.17109 -0.85545,-0.81268 v -1.83924 l -0.38496,-0.12832 -0.29941,0.29941 -1.62536,0.42772 -0.51327,0.12832 -0.76991,-0.21386 -0.12831,-0.0855 v -1.49704 l -0.38496,-0.0428 -0.68436,0.34218 -1.19764,0.51327 -1.75368,0.0855 -0.89822,0.29941 -1.06932,0.941 -0.42773,0.25663 h -0.2994 l -0.34218,0.21387 -0.42773,-0.12832 -0.42773,-0.34218 -0.38495,0.25663 -1.02655,0.0428 -0.72713,-0.72713 -0.38496,-0.81268 -0.38495,-0.29941 -0.85545,-0.25664 h -0.59882 l -0.34218,-0.34218 -0.941,0.76991 -0.25664,0.29941 -0.21386,-0.12832 0.0856,-0.68436 0.64159,-0.85546 0.12831,-0.64159 0.59882,-0.21386 0.38495,-0.81268 0.98378,-0.25664 0.0855,-0.25663 -0.29941,-0.29941 -1.2404,0.12832 -1.15487,0.64159 -0.59881,0.59882 -0.34219,0.47049 -0.47049,0.21387 -0.51328,0.76991 -0.0428,0.34218 -1.15486,0.55604 -0.64159,0.51327 -1.58259,0.25664 -0.17109,0.17109 V 109.15 l -0.941,0.59881 -0.72714,0.21387 -0.18951,0.15356 -0.26922,0.11159 -0.14008,0.33366 -0.29941,-0.0428 -0.17109,-0.2994 -0.72713,-0.21387 -0.29942,0.0428 -0.47049,0.25664 -0.25664,-0.17109 0.17109,-0.51328 0.51327,-0.81268 0.29941,-0.2994 -0.51327,-0.38496 -0.55605,0.21387 -0.7699,0.51327 -1.96755,0.85545 -0.76991,0.17109 -0.7699,-0.12832 -0.25975,-0.23237 -0.1151,-0.14623 1.01644,-0.77626 0.34218,-0.0428 1.19763,-1.32595 0.4705,-0.21387 0.59882,-1.02654 0.64159,-0.941 0.81268,-0.68436 1.26332,-0.53099 2.44628,-1.07451 1.04212,-0.48607 0.16195,-0.60311 -1.17473,0.0981 -0.18881,0.28688 h -0.17109 l -0.4705,-0.81268 -2.3525,0.0855 -0.25663,0.21387 h -0.25664 l -0.12831,-0.34219 -0.21387,-0.47049 -0.68436,0.12831 -0.85545,0.85546 -0.42773,0.21386 h -0.81268 l -0.68436,-0.25664 v -0.55607 l -0.34219,-0.0428 -0.12831,0.12831 -0.68437,-0.34218 -0.12831,-0.7699 -0.38496,0.12831 -0.12831,0.25664 -0.6416,-0.12832 -1.41149,-0.641588 -1.02655,-0.684363 h -0.76991 l -0.34218,-0.256636 -0.59881,0.171091 -0.29941,0.299408 -0.0855,0.342182 h -1.28318 v -0.556045 l -1.66813,-0.08554 -0.0856,-0.384954 h -1.28318 l -0.42772,-0.427727 -0.38496,-1.625361 -0.21386,-1.454271 -0.51327,-0.213863 -0.59882,-0.128318 -0.17109,0.04277 -0.0856,2.181406 -7.97253,-0.0093 -0.2902,-0.01253 -7.52038,-0.149232 -4.91886,-0.171091 -7.01471,-0.342181 -6.60008,-0.498469 -0.339678,-0.127379 -4.609784,-0.422056 5.955187,22.253197 36.616235,15.93308 0.54124,16.27544 7.38649,14.70204 38.83208,13.5883 21.8355,-15.8243 -36.10544,-24.69867 z"
               transform="translate(37.48895,-59.47319)" />

            <path id="zone_purple" fill="#e6e6e6" stroke="#000000"  stroke-width="0.5"
               d="m 141.48047,71.531805 -30.77066,-12.109468 -5.00449,-16.912946 -2.94638,-0.243802 -6.50591,-0.715179 -6.505908,-0.812703 -7.18885,-1.072768 -4.097644,-0.682671 -7.275911,-1.394095 -0.249765,-0.03227 -2.889615,-0.508375 -0.160204,-0.0808 -3.370873,-0.682631 -5.104085,-1.137783 -4.457086,-1.137785 -1.905044,-0.390097 -2.156655,-0.552638 -0.970494,-0.292573 -0.25161,0.16254 -0.07189,0.162541 0.539164,0.975244 0.25161,0.520129 -0.395387,0.715179 v 0.455113 l 0.143777,0.292573 -0.179721,0.35759 0.107832,0.650162 0.215666,0.260065 -0.03594,0.260065 -0.323498,0.03251 -0.143777,-0.390098 -0.25161,-0.487622 -0.395386,-0.292573 0.07188,-0.422605 0.503219,-0.09752 -0.07188,-0.357589 -0.07188,-0.227557 -0.467275,0.260065 -0.287554,0.227557 v 0.487622 l -0.503223,0.03251 -0.75483,-0.195048 -0.646996,-0.292573 -0.682942,-0.130032 -1.006439,-0.422606 -0.718884,-0.390098 -0.611053,-0.52013 -0.539164,-0.585146 -0.467275,-0.09752 -0.50322,1.885471 0.395387,0.650162 V 37.8445 l -0.143777,0.585146 0.323499,1.430357 0.611051,0.552639 -0.970494,0.130032 -0.03594,0.747687 0.575108,0.227556 -0.359443,0.812703 -0.611052,0.06501 -0.07188,0.585146 0.50322,0.585146 -0.467275,0.52013 -0.50322,1.300324 -0.718885,2.015506 -0.718885,1.30032 -1.114272,2.828205 -1.43777,2.730686 -1.797212,2.535635 -0.431331,0.585147 -0.179722,1.72293 -0.287553,1.202793 0.602151,0.709328 -0.107044,0.193623 -0.35133,0.950018 -0.03594,1.495379 -1.150217,2.373089 -0.68294,0.520128 -0.07189,0.227558 -0.395387,0.162546 -0.323498,0.845204 -0.179722,0.650167 0.611053,0.845212 0.359442,0.845211 0.03836,0.0848 51.695683,-0.450996 7.552608,22.353824 22.467967,-3.723703 26.96671,-4.480788 z"
               transform="matrix(1.1899725,0,0,1.3157534,-6.6115139,-20.220458)" />
          </g>
        </svg>
    </div>

    <script>
        // ---------------------------------------------------------
        // 1. DEFINICIÓN DE VARIABLES Y CONSTANTES
        // ---------------------------------------------------------

        // Mapeo de colores: Nombre -> { ID del SVG, Código Hexadecimal }
        const colorMap = {
            'Purple': { id: 'zone_purple', hex: '#9B59B6' }, // Violeta
            'Yellow': { id: 'zone_yellow', hex: '#F1C40F' }, // Amarillo
            'Orange': { id: 'zone_orange', hex: '#E67E22' }, // Naranja
            'Blue':   { id: 'zone_blue',   hex: '#3498DB' }, // Azul
            'Red':    { id: 'zone_red',    hex: '#E74C3C' }, // Rojo
            'Green':  { id: 'zone_green',  hex: '#2ECC71' }  // Verde
        };

        // Definición Zonas Adyacentes
        const adyacencias = {
            'zone_purple': ['zone_yellow', 'zone_blue', 'zone_red'],
            'zone_yellow': ['zone_purple', 'zone_orange', 'zone_red', 'zone_green'],
            'zone_orange': ['zone_yellow', 'zone_green'],
            'zone_blue':   ['zone_purple', 'zone_red'],
            'zone_red':    ['zone_purple', 'zone_yellow', 'zone_blue', 'zone_green'],
            'zone_green':  ['zone_yellow', 'zone_orange', 'zone_red']
        };

        const defaultColor = '#e6e6e6'; // Color gris original


        // ---------------------------------------------------------
        // 2. FUNCIONES LÓGICAS
        // ---------------------------------------------------------

        /**
         * Función principal llamada por los botones.
         * Selecciona 'n' zonas conectadas y las pinta.
         * @param {number} cantidad - Número de zonas a seleccionar (2, 3, 4 o 5)
         */
        function generarZonas(cantidad) {
            // Lista para guardar los IDs de las zonas seleccionadas (ej: ['zone_purple', 'zone_red'])
            let zonasSeleccionadas = [];
            
            // Obtenemos todas las zonas disponibles (las claves del objeto adyacencias)
            const todasLasZonas = Object.keys(adyacencias);

            // Bucle para elegir las zonas una por una
            for (let i = 0; i < cantidad; i++) {
                
                if (i === 0) {
                    // --- PRIMERA SELECCIÓN ---
                    // Se elige aleatoriamente entre TODAS las disponibles
                    const zonaAleatoria = obtenerElementoAleatorio(todasLasZonas);
                    zonasSeleccionadas.push(zonaAleatoria);
                } else {
                    // --- SIGUIENTES SELECCIONES ---
                    // 1. Buscar todos los vecinos de las zonas que YA hemos seleccionado
                    let candidatos = new Set();
                    
                    zonasSeleccionadas.forEach(zonaId => {
                        // Obtenemos los vecinos de esta zona
                        const vecinos = adyacencias[zonaId];
                        // Los agregamos al Set de candidatos
                        vecinos.forEach(v => candidatos.add(v));
                    });

                    // 2. Eliminar del Set las zonas que YA fueron seleccionadas previamente
                    // (para no repetir la zona 1 o 2 en la selección de la 3)
                    zonasSeleccionadas.forEach(zonaYaElegida => {
                        candidatos.delete(zonaYaElegida);
                    });

                    // 3. Convertir el Set a Array para poder elegir uno al azar
                    const arrayCandidatos = Array.from(candidatos);

                    // Validación de seguridad (por si no hubiera vecinos disponibles, aunque en tu mapa siempre hay)
                    if (arrayCandidatos.length > 0) {
                        const siguienteZona = obtenerElementoAleatorio(arrayCandidatos);
                        zonasSeleccionadas.push(siguienteZona);
                    } else {
                        console.warn("No hay más zonas adyacentes disponibles para conectar.");
                        break; 
                    }
                }
            }

            // Una vez elegidas las zonas, procedemos a pintar
            pintarZonas(zonasSeleccionadas);
        }

        /**
         * Aplica los colores al SVG.
         * Si la zona está en la lista de seleccionados, usa su color definido.
         * Si no, usa el color default (gris).
         */
        function pintarZonas(seleccionadas) {
            // Recorremos el colorMap para revisar cada zona posible
            for (const key in colorMap) {
                const datosZona = colorMap[key]; // Ej: { id: 'zone_purple', hex: '#9B59B6' }
                const elementoSVG = document.getElementById(datosZona.id);

                // Verificamos que el elemento exista en el HTML antes de intentar pintarlo
                if (elementoSVG) {
                    if (seleccionadas.includes(datosZona.id)) {
                        // Si fue seleccionada, pintamos con su color HEX
                        elementoSVG.style.fill = datosZona.hex;
                    } else {
                        // Si no fue seleccionada, pintamos gris
                        elementoSVG.style.fill = defaultColor;
                    }
                } else {
                    console.error(`No se encontró el elemento SVG con id: ${datosZona.id}`);
                }
            }
        }

        /**
         * Función auxiliar para obtener un elemento aleatorio de un array
         */
        function obtenerElementoAleatorio(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

    </script>
</body>
</html>